!function(s,d){function l(e){var t,o=s.get(),a=!!o[e]&&o[e];return"string"==typeof a&&(a=a.trim()),!0===(t=a)?"on":t}d("head").append(d("<style>",{id:"loftloader-hide-site-title",text:".site-title { opacity:  0; }"})),s.LoftLoaderSwitchSection=s.Section.extend({initialize:function(){return s.Section.prototype.initialize.apply(this,arguments)},ready:function(){this.container.find("input[name=loftloader-main-switch]").is(":checked")||d("#customize-theme-controls").addClass("loftloader-settings-disabled"),d("#customize-theme-controls").addClass("loftloader-controls-wrapper")},attachEvents:function(){this.container.on("change","input[name=loftloader-main-switch]",function(e){var t=d(this).is(":checked"),o=d("#customize-theme-controls");s("loftloader_main_switch")(t),t?o.removeClass("loftloader-settings-disabled"):o.addClass("loftloader-settings-disabled")})}}),d.extend(s.sectionConstructor,{loftloader_switch:s.LoftLoaderSwitchSection}),s.controlConstructor.slider=s.Control.extend({ready:function(){var e=this.container.find(".loader-ui-slider"),o=this.container.find("input[data-customize-setting-link]");e.slider({range:"min",min:e.data("min"),max:e.data("max"),value:e.data("value"),step:e.data("step"),slide:function(e,t){o.val(t.value).trigger("change")}})}}),s.bind("ready",function(e){loftloader_lite_i18n&&d(".site-title").text(loftloader_lite_i18n.name),d("#loftloader-hide-site-title").remove();var t,o=document.createElement("a");o.href=s.previewer.previewUrl(),t=s.utils.parseQueryString(o.search.substr(1)),s.previewer.unbind("url").bind("url",function(e){var t,o=this,a=!1,l=document.createElement("a");l.href=e,l.search=d.param({plugin:"loftloader-lite"}),e=l.href,o.scroll=0,t=function(){a=!0},o.previewUrl.bind(t),o.previewUrl.set(e),o.previewUrl.unbind(t),a||o.refresh()}),t.plugin||(t.plugin="loftloader-lite",o.search=d.param(t),s.previewer.previewUrl.set(o.href));var a,l,i,r=s.get(),n=d("#customize-control-loftloader_custom_img");n.length&&!n.find(".attachment-thumb").length&&r&&r.loftloader_custom_img&&((a=r.loftloader_custom_img)&&(l=n.find(".attachment-media-view").addClass("attachment-media-view-image"),i=d("<div>",{class:"thumbnail thumbnail-image"}).append(d("<img>",{class:"attachment-thumb",src:a})),l.children(".placeholder").css("display","none").after(i).remove())),d("body").on("change","input[type=number]",function(e){var t=parseInt(d(this).val()),o=d(this).attr("min")?parseInt(d(this).attr("min")):1;t<o&&d(this).val(o).trigger("change")}).on("change","input.loftlader-checkbox",function(e){var t=d(this).siblings("input");t.length&&t.attr("data-customize-setting-link")&&s(t.attr("data-customize-setting-link"))(d(this).is(":checked"))}).on("click",".customize-more-toggle",function(e){e.preventDefault();var t=d(this),o=d(this).siblings(".customize-control-description");o.length&&(t.hasClass("expanded")?o.slideUp("slow"):o.slideDown("slow",function(){d(this).css("display","block")}),t.toggleClass("expanded"))}).on("click",".loftloader-any-page-generate",function(e){e.preventDefault();var t=s.loftloader_generate_parameters();d(this).siblings(".loftloader-any-page-shortcode").val("[loftloader "+t+"]").select()})}),s.loftloader_generate_parameters=function(){var e={loftloader_bg_color:{},loftloader_bg_opacity:{},loftloader_bg_animation:{},loftloader_loader_type:{sun:["loftloader_loader_color"],circles:["loftloader_loader_color"],wave:["loftloader_loader_color"],square:["loftloader_loader_color"],beating:["loftloader_loader_color"],frame:["loftloader_loader_color","loftloader_custom_img"],imgloading:["loftloader_custom_img","loftloader_img_width"]},loftloader_show_close_timer:{},loftloader_show_close_tip:{},loftloader_max_load_time:{},loftloader_inline_js:{}},t=type_value=loop="";if("on"===l("loftloader_main_switch"))for(var o in t="loftloader_main_switch=on loftloader_show_range=sitewide",e){switch(type_value=l(o),o){case"loftloader_show_close_tip":type_value=type_value?'"'+btoa(unescape(encodeURIComponent(type_value)))+'"':'""';case"loftloader_bg_color":case"loftloader_bg_opacity":case"loftloader_bg_animation":loop=[];break;case"loftloader_max_load_time":type_value=type_value||0;break;default:loop=e[o][type_value]?e[o][type_value]:[]}if(t+=" "+o+"="+type_value,loop)for(var a in loop)t+=" "+loop[a]+"="+l(loop[a])}else t="loftloader_main_switch=false";return t}}(wp.customize,jQuery);
